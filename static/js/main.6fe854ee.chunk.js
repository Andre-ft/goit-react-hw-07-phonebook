(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{20:function(t,e,n){t.exports={form:"ContactForm_form__-POcN",input:"ContactForm_input__1t8WA",button:"ContactForm_button__2rf7u"}},29:function(t,e,n){t.exports={contactList__item:"ContactListItem_contactList__item__1NKMB",deleteButton:"ContactListItem_deleteButton__F7AAg"}},33:function(t,e,n){t.exports={contactList__item:"ContactList_contactList__item__HLiZS",deleteButton:"ContactList_deleteButton__f9ry3"}},36:function(t,e,n){t.exports={filter:"Filter_filter__1fU98"}},37:function(t,e,n){t.exports={App:"App_App__1DD2d"}},45:function(t,e,n){},62:function(t,e,n){"use strict";n.r(e);var a,c=n(0),r=n.n(c),o=n(22),s=n.n(o),i=(n(45),n(5)),u=n(19),b=n(33),d=n.n(b),l=n(34),j=n(8),m=Object(l.a)({reducerPath:"contactApi",baseQuery:Object(j.d)({baseUrl:"https://61fe5bafa58a4e00173c97fc.mockapi.io/api/v1/"}),tagTypes:["Contact"],endpoints:function(t){return{fetchContacts:t.query({query:function(){return"/contacts"},providesTags:["Contact"]}),deleteContact:t.mutation({query:function(t){return{url:"/contacts/".concat(t),method:"DELETE"}},invalidatesTags:["Contact"]}),createContact:t.mutation({query:function(t){return{url:"/contacts",method:"POST",body:{name:t.name,number:t.number}}},invalidatesTags:["Contact"]})}}}),O=m.useFetchContactsQuery,f=m.useDeleteContactMutation,h=m.useCreateContactMutation,p=n(7),x=n(29),_=n.n(x),C=n(35),g=n(40),v=n(27),y=n(38),L=Object(v.a)(a||(a=Object(C.a)(["\n0% {\n  transform: rotate(0deg);\n}\n100% {\n  transform: rotate(1turn);\n}\n"]))),F=Object(g.a)(y.a,{target:"eqn971k0"})("animation:",L," 0.85s linear infinite;");F.defaultProps={size:40};var A=n(2),N=function(t){var e=t.id,n=t.name,a=t.number,c=f(),r=Object(p.a)(c,2),o=r[0],s=r[1].isLoading;return Object(A.jsxs)("li",{className:_.a.contactList__item,children:[n," : ",a,Object(A.jsxs)("button",{type:"button",className:_.a.deleteButton,onClick:function(){return o(e)},disabled:s,children:[s&&Object(A.jsx)(F,{size:12}),"Delete"]})]})},w=Object(c.createContext)();function k(){var t=Object(c.useContext)(w).filter,e=O(),n=e.data;e.isFetching;return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("ul",{className:d.a.contactList__item,children:n&&function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}(n,t).map((function(t){return Object(A.jsx)(N,Object(u.a)({},t),t.id)}))})})}var S=n(16),B=n.n(S),P=n(20),T=n.n(P),q=n(1),z=(Object(q.b)("contacts/add",(function(t){var e=t.name,n=t.number;return{payload:{id:B.a.generate(),name:e,number:n}}})),Object(q.b)("contacts/delete"),Object(q.b)("contacts/changeFilter"),n(30));function D(){var t=Object(c.useState)(""),e=Object(p.a)(t,2),n=e[0],a=e[1],r=Object(c.useState)(""),o=Object(p.a)(r,2),s=o[0],i=o[1],u=Object(c.useState)(!0),b=Object(p.a)(u,2),d=b[0],l=b[1],j=O(),m=j.data,f=(j.isFetching,h()),x=Object(p.a)(f,2),_=x[0],C=x[1],g=C.isLoading,v=(C.isSuccess,B.a.generate()),y=B.a.generate(),L=function(t){var e=t.currentTarget,n=e.name,c=e.value;switch("name"===n&&function(t){if(m&&m.find((function(e){return e.name.toLowerCase()===t.toLowerCase()})))return l(!1),void alert("".concat(t," is already in contacts"));l(!0)}(c),n){case"name":a(c);break;case"number":i(c)}},N={duration:3e3,position:"top-right",style:{background:"lawngreen"}};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(z.a,{}),Object(A.jsxs)("form",{className:T.a.form,onSubmit:function(t){t.preventDefault(),Object(z.b)("Contact added",N),_({name:n,number:s}),a(""),i("")},children:[Object(A.jsxs)("label",{htmlFor:v,className:T.a.input,children:["Name",Object(A.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:n,onChange:L,id:v})]}),Object(A.jsxs)("label",{htmlFor:y,className:T.a.input,children:["Number",Object(A.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:s,onChange:L,id:y})]}),Object(A.jsxs)("button",{type:"submit",className:T.a.button,disabled:!d||g,children:[g&&Object(A.jsx)(F,{size:12}),"Add contact"]})]})]})}var M=n(36),E=n.n(M);function Z(){var t=Object(c.useContext)(w),e=t.filter,n=t.setFilter;return Object(A.jsxs)("label",{className:E.a.filter,children:["Find contacts by name",Object(A.jsx)("input",{type:"text",value:e,onChange:function(t){return n(t.currentTarget.value)}})]})}var I=n(37),J=n.n(I),Q=function(){return Object(A.jsxs)("div",{className:J.a.App,children:[Object(A.jsx)("h1",{children:"Phonebook"}),Object(A.jsx)(D,{}),Object(A.jsx)("h2",{children:"Contacts"}),Object(A.jsx)(Z,{}),Object(A.jsx)(k,{})]})},U=n(14),H=(n(59),Object(q.a)({reducer:Object(U.a)({},m.reducerPath,m.reducer),middleware:function(t){return t().concat(m.middleware)}}));Object(j.e)(H.dispatch);var K=n(39);n(61);function W(t){var e=t.children,n=Object(c.useState)(""),a=Object(p.a)(n,2),r=a[0],o=a[1],s=Object(c.useMemo)((function(){return{filter:r,setFilter:o}}),[o,r]);return Object(A.jsx)(w.Provider,{value:s,children:e})}s.a.render(Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(K.a,{children:Object(A.jsx)(W,{children:Object(A.jsx)(i.a,{store:H,children:Object(A.jsx)(Q,{})})})})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.6fe854ee.chunk.js.map